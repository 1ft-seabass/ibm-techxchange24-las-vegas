# watsonx.ai detail

I will explain the detail of my Watson Machine Learning settings.

## Related article

Notes on interrogating granite-8b-japanese model to get on and off JSON data in IBM watsonx prompt lab

Japanese contents : https://www.1ft-seabass.jp/memo/2024/04/08/watsonx-granite-8b-japanese-model-sample-prompt-json-data/


<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">スマートライトさんと一緒に作ってる <a href="https://twitter.com/hashtag/MetaQuest?src=hash&amp;ref_src=twsrc%5Etfw">#MetaQuest</a> 3 による xR からの声から行う設備制御（照明・エアコン）できた！<br>オンにしての声をテキストにして <a href="https://twitter.com/hashtag/IBMCloud?src=hash&amp;ref_src=twsrc%5Etfw">#IBMCloud</a> Code Engine が橋渡しした <a href="https://t.co/GbG9KpPABe">https://t.co/GbG9KpPABe</a> が文脈のオンオフを理解して JSON データを返答して xR が設備制御します！楽しい！ <a href="https://t.co/uEDb2TEMBt">pic.twitter.com/uEDb2TEMBt</a></p>&mdash; Tanaka Seigo (@1ft_seabass) <a href="https://twitter.com/1ft_seabass/status/1773633863396344150?ref_src=twsrc%5Etfw">March 29, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


This is an example of trying to use the granite-8b-japanese model to get good JSON data from words like "turn on" and "turn off" when performing such control.

### I tried it!

![watsonx-granite-8b-japanese-model-sample-prompt-json-data_04.png](https://www.1ft-seabass.jp/memo/uploads/2024/04/watsonx-granite-8b-japanese-model-sample-prompt-json-data_04.png)


I logged in to Prompt Lab and tried inputting free text.

![watsonx-granite-8b-japanese-model-sample-prompt-json-data_00.png](https://www.1ft-seabass.jp/memo/uploads/2024/04/watsonx-granite-8b-japanese-model-sample-prompt-json-data_00.png)

granite-8b-japanese model has been selected.

After a lot of polishing, I ended up with this content.

```text
To control on/off for lighting control, please generate only the JSON object from the following content.

- JSON objects consist only of message values
- The message value is of type string
- message values ​​are only strings of on, off, and ng
- The messeage value becomes on when the content is recognized as meaning on.
- The messeage value becomes off when the content is recognized as meaning off.
- If the content is on or off and not recognized, the messeage value will be ng.

For example:

----
Contents:
オン

JSON:
{"message":"on"}
----
Contents:
オフ

JSON:
{"message":"off"}
----
Contents:
on

JSON:
{"message":"on"}
----
Contents:
off

JSON:
{"message":"off"}
----
Contents:
今日はいい天気

JSON:
{"message":"ng"}
----
Contents:
やっほーーーー

JSON:
{"message":"ng"}
----

Please answer using the rules above.

Contents:
${message}

JSON:
```

If I run this

![watsonx-granite-8b-japanese-model-sample-prompt-json-data_03.png](https://www.1ft-seabass.jp/memo/uploads/2024/04/watsonx-granite-8b-japanese-model-sample-prompt-json-data_03.png)

`{"message":"on"}` was successfully replied.

![watsonx-granite-8b-japanese-model-sample-prompt-json-data_02.png](https://www.1ft-seabass.jp/memo/uploads/2024/04/watsonx-granite-8b-japanese-model-sample-prompt-json-data_02.png)

Even when I listen to it in English, `{"message":"off"}` is recognized well.

![watsonx-granite-8b-japanese-model-sample-prompt-json-data_05.png](https://www.1ft-seabass.jp/memo/uploads/2024/04/watsonx-granite-8b-japanese-model-sample-prompt-json-data_05.png)


`{"message":"ng"}` may respond to unrelated calls.

The strength is good for quick use.

![watsonx-granite-8b-japanese-model-sample-prompt-json-data_01.png](https://www.1ft-seabass.jp/memo/uploads/2024/04/watsonx-granite-8b-japanese-model-sample-prompt-json-data_01.png)

I incorporated this into the actual system while referring to how to actually output it to the API next to it.

## prompt en

```text
To control on/off for lighting control, please generate only the JSON object from the following content.

- JSON objects consist only of message values
- The message value is of type string
- message values ​​are only strings of on, off, and ng
- The messeage value becomes on when the content is recognized as meaning on.
- The messeage value becomes off when the content is recognized as meaning off.
- If the content is on or off and not recognized, the messeage value will be ng.

For example:

----
Contents:
オン

JSON:
{"message":"on"}
----
Contents:
オフ

JSON:
{"message":"off"}
----
Contents:
on

JSON:
{"message":"on"}
----
Contents:
off

JSON:
{"message":"off"}
----
Contents:
今日はいい天気

JSON:
{"message":"ng"}
----
Contents:
やっほーーーー

JSON:
{"message":"ng"}
----

Please answer using the rules above.

Contents:
${message}

JSON:

```

## prompt ja

```text
照明制御のためのオンオフを制御するため、以下の内容から JSON オブジェクトだけ生成してください。

- JSON オブジェクトは message 値 のみで構成されます
- message 値は string 型です
- message 値は on ・ off ・ ng の文字列のみです
- 内容がオンの意味として認識したときに messeage 値は on になります。
- 内容がオフの意味として認識したときに messeage 値は off になります。
- 内容がオンかオフで認識されなかったときは messeage 値は ng になります。

以下が例です。

----
内容:
オン

JSON:
{"message":"on"}
----
内容:
オフ

JSON:
{"message":"off"}
----
内容:
on

JSON:
{"message":"on"}
----
内容:
off

JSON:
{"message":"off"}
----
内容:
今日はいい天気

JSON:
{"message":"ng"}
----
内容:
やっほーーーー

JSON:
{"message":"ng"}
----

それでは、上記のルールで回答ください。

内容 :
${message}

JSON:
```

